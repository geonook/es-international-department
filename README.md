# KCISLK ESID Info Hub | KCISLK å°å­¸åœ‹éš›è™•è³‡è¨Šä¸­å¿ƒ
**Information Service Website for KCISLK Elementary School International Department | åº·æ©‹åœ‹éš›å­¸æ ¡å°å­¸åœ‹éš›è™•è³‡è¨Šæœå‹™ç¶²ç«™**

> **ğŸ“Š é …ç›®ç‹€æ…‹**: 73.7% å®Œæˆ | **ğŸš€ API å¥åº·åº¦**: 28/38 ç«¯é»æ­£å¸¸é‹ä½œ  
> **âš¡ æœ€å¾Œæ›´æ–°**: 2025-01-31 | **ğŸ¯ ä¸‹ä¸€é‡Œç¨‹ç¢‘**: é€šçŸ¥ç³»çµ±å®Œå–„

## ğŸ‰ æœ€æ–°æˆæœ | Latest Achievements

### âœ… å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½
- **ğŸ” èªè­‰ç³»çµ±**: Google OAuth 2.0 + JWT å®Œå…¨å¯¦ä½œ (100%)
- **ğŸ“ å…§å®¹ç®¡ç†**: å…¬å‘Šã€æ´»å‹•ã€è³‡æºç®¡ç†ç³»çµ± (95%)
- **ğŸ‘¥ ç”¨æˆ¶ç®¡ç†**: è§’è‰²æ¬Šé™æ§åˆ¶ã€ä½¿ç”¨è€…ä»‹é¢ (100%)
- **ğŸ“ æª”æ¡ˆç³»çµ±**: å®‰å…¨æª”æ¡ˆä¸Šå‚³ã€è™•ç†ã€æœå‹™ (100%)
- **ğŸ¨ UI/UX**: shadcn/ui çµ„ä»¶ã€Framer Motion å‹•ç•« (100%)
- **âš™ï¸ åŸºç¤æ¶æ§‹**: Next.js 14ã€TypeScriptã€Prisma (100%)

### ğŸ”§ è¿‘æœŸä¿®å¾©
- **Events API**: å¾ 20% æå‡è‡³ 80% æˆåŠŸç‡ (+300% æ”¹å–„)
- **Notifications API**: å¾ 0% æå‡è‡³ 83% æˆåŠŸç‡ (å…¨é¢ä¿®å¾©)
- **èªè­‰å•é¡Œ**: ä¿®å¾©æ‰€æœ‰ `verifyAuth` å‡½å¼å¼•ç”¨éŒ¯èª¤
- **API æ•´é«”å¥åº·åº¦**: å¾ 71.1% æå‡è‡³ 73.7%

### ğŸ¯ å‰©é¤˜ä»»å‹™ | Remaining Tasks

#### ğŸ”´ é«˜å„ªå…ˆç´š (å½±éŸ¿æ ¸å¿ƒåŠŸèƒ½)
- **Google OAuth å¯¦éš›é…ç½®**: éœ€è¦ Google Console æ†‘è­‰è¨­å®š
- **é€šçŸ¥ç³»çµ± API ä¿®å¾©**: 5å€‹ç«¯é»éœ€è¦èªè­‰å‡½å¼æ›´æ–°
- **å…¬å‘Šæ’åºé‚è¼¯**: å„ªå…ˆç´šæ’åºé‚è¼¯å„ªåŒ–

#### ğŸŸ¡ ä¸­å„ªå…ˆç´š (åŠŸèƒ½å¢å¼·)  
- **Email é€šçŸ¥æœå‹™**: Nodemailer/SendGrid æ•´åˆ
- **å³æ™‚æ¨é€**: Server-Sent Events å¯¦ä½œ
- **ç”¨æˆ¶åå¥½å­˜å„²**: è³‡æ–™åº«æ¶æ§‹æ“´å±•

#### ğŸŸ¢ ä½å„ªå…ˆç´š (ç³»çµ±å„ªåŒ–)
- **æ•ˆèƒ½å„ªåŒ–**: API å›æ‡‰æ™‚é–“æ”¹å–„
- **ç›£æ§è¨­ç½®**: ç”Ÿç”¢ç’°å¢ƒç›£æ§é…ç½®
- **éƒ¨ç½²é…ç½®**: æœ€çµ‚ç”Ÿç”¢ç’°å¢ƒæº–å‚™

> **é è¨ˆå®Œæˆæ™‚é–“**: 5-8 å°æ™‚å¯é” 95%+ å®Œæˆåº¦

## Quick Start | å¿«é€Ÿé–‹å§‹

1. **Read CLAUDE.md first** - Contains essential rules for Claude Code  
   **è«‹å…ˆé–±è®€ CLAUDE.md** - åŒ…å« Claude Code çš„é‡è¦è¦å‰‡
2. Follow the pre-task compliance checklist before starting any work  
   é–‹å§‹ä»»ä½•å·¥ä½œå‰è«‹éµå¾ªä»»å‹™å‰åˆè¦æª¢æŸ¥æ¸…å–®
3. Use proper module structure under project directories  
   åœ¨å°ˆæ¡ˆç›®éŒ„ä¸‹ä½¿ç”¨é©ç•¶çš„æ¨¡çµ„çµæ§‹
4. Commit after every completed task  
   æ¯å®Œæˆä¸€é …ä»»å‹™å¾Œéƒ½è¦æäº¤

## Project Overview | å°ˆæ¡ˆæ¦‚è¿°

KCISLK ESID Info Hub is a comprehensive Next.js application providing parents and teachers of KCISLK Elementary School International Department with access to the latest information, educational resources, event updates, and communication tools.

KCISLK å°å­¸åœ‹éš›è™•è³‡è¨Šä¸­å¿ƒæ˜¯ä¸€å€‹å…¨é¢çš„ Next.js æ‡‰ç”¨ç¨‹å¼ï¼Œç‚ºåº·æ©‹åœ‹éš›å­¸æ ¡å°å­¸åœ‹éš›è™•çš„å®¶é•·å’Œè€å¸«æä¾›æœ€æ–°è³‡è¨Šã€æ•™è‚²è³‡æºã€æ´»å‹•æ›´æ–°å’Œæºé€šå·¥å…·çš„å­˜å–ã€‚

### ğŸŒŸ Features | åŠŸèƒ½ç‰¹è‰²

- **Parent Portal** - Dedicated space for parent-school communication  
  **å®¶é•·é–€æˆ¶** - å°ˆç‚ºå®¶é•·èˆ‡å­¸æ ¡æºé€šè¨­è¨ˆçš„ç©ºé–“
- **Google OAuth Authentication** - Secure one-click login with automatic role assignment  
  **Google OAuth èªè­‰** - å®‰å…¨çš„ä¸€éµç™»å…¥èˆ‡è‡ªå‹•è§’è‰²åˆ†é…
- **Event Management** - Coffee with Principal sessions and school events  
  **æ´»å‹•ç®¡ç†** - æ ¡é•·æœ‰ç´„æœƒè­°å’Œå­¸æ ¡æ´»å‹•
- **Resource Center** - Grade-level educational materials and tools  
  **è³‡æºä¸­å¿ƒ** - å„å¹´ç´šæ•™è‚²æ•™æå’Œå·¥å…·
- **International Department News** - Latest updates and announcements  
  **åœ‹éš›éƒ¨æœ€æ–°æ¶ˆæ¯** - æœ€æ–°æ›´æ–°å’Œå…¬å‘Š
- **Squad System** - KCFSID squad information and activities  
  **å°éšŠç³»çµ±** - KCFSID å°éšŠè³‡è¨Šå’Œæ´»å‹•
- **Responsive Design** - Mobile-friendly interface with smooth animations  
  **éŸ¿æ‡‰å¼è¨­è¨ˆ** - é©åˆè¡Œå‹•è£ç½®çš„ä»‹é¢èˆ‡æµæš¢å‹•ç•«

### ğŸ› ï¸ Tech Stack | æŠ€è¡“å †ç–Š

- **Framework**: Next.js 14 (App Router) | **æ¡†æ¶**: Next.js 14 (App Router)
- **Language**: TypeScript | **èªè¨€**: TypeScript
- **Database**: PostgreSQL + Prisma ORM | **è³‡æ–™åº«**: PostgreSQL + Prisma ORM
- **Authentication**: Google OAuth 2.0 + JWT | **èªè­‰**: Google OAuth 2.0 + JWT
- **Styling**: Tailwind CSS | **æ¨£å¼**: Tailwind CSS
- **UI Components**: shadcn/ui | **UI çµ„ä»¶**: shadcn/ui
- **Animations**: Framer Motion | **å‹•ç•«**: Framer Motion  
- **Package Manager**: pnpm | **å¥—ä»¶ç®¡ç†å™¨**: pnpm
- **Code Quality**: ESLint + TypeScript | **ç¨‹å¼ç¢¼å“è³ª**: ESLint + TypeScript
- **Deployment**: Docker + Zeabur | **éƒ¨ç½²**: Docker + Zeabur

## Development Guidelines | é–‹ç™¼æŒ‡å°åŸå‰‡

- **Always search first** before creating new files  
  **ç¸½æ˜¯å…ˆæœå°‹** å†å‰µå»ºæ–°æª”æ¡ˆ
- **Extend existing** functionality rather than duplicating  
  **æ“´å±•ç¾æœ‰** åŠŸèƒ½è€Œéé‡è¤‡å»ºç«‹
- **Use Task agents** for operations >30 seconds  
  **ä½¿ç”¨ä»»å‹™ä»£ç†** è™•ç†è¶…é30ç§’çš„æ“ä½œ
- **Single source of truth** for all functionality  
  **å–®ä¸€è³‡è¨Šä¾†æº** é©ç”¨æ–¼æ‰€æœ‰åŠŸèƒ½
- **Language-agnostic structure** - works with TypeScript/JavaScript  
  **èªè¨€ç„¡é—œçµæ§‹** - é©ç”¨æ–¼ TypeScript/JavaScript
- **Scalable** - start simple, grow as needed  
  **å¯æ“´å±•** - å¾ç°¡å–®é–‹å§‹ï¼ŒæŒ‰éœ€æˆé•·
- **Flexible** - choose complexity level based on project needs  
  **éˆæ´»** - æ ¹æ“šå°ˆæ¡ˆéœ€æ±‚é¸æ“‡è¤‡é›œåº¦

## Getting Started | é–‹å§‹ä½¿ç”¨

### Prerequisites | å…ˆæ±ºæ¢ä»¶

- Node.js 18+ | Node.js 18 ä»¥ä¸Šç‰ˆæœ¬
- pnpm (recommended) or npm | pnpmï¼ˆæ¨è–¦ï¼‰æˆ– npm

### Installation | å®‰è£

```bash
# Clone the repository | è¤‡è£½å„²å­˜åº«
git clone <repository-url>
cd kcislk-esid-info-hub

# Install dependencies | å®‰è£ä¾è³´å¥—ä»¶
pnpm install

# Start development server | å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
pnpm dev
```

### Development Commands | é–‹ç™¼å‘½ä»¤

```bash
# Development | é–‹ç™¼
pnpm dev          # Start development server (http://localhost:3000) | å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
pnpm build        # Build for production | å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
pnpm start        # Start production server | å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨
pnpm lint         # Run ESLint | åŸ·è¡Œ ESLint
pnpm typecheck    # Check TypeScript types | æª¢æŸ¥ TypeScript é¡å‹

# Database | è³‡æ–™åº«
pnpm db:generate  # Generate Prisma client | ç”Ÿæˆ Prisma å®¢æˆ¶ç«¯
pnpm db:migrate   # Run database migrations | åŸ·è¡Œè³‡æ–™åº«é·ç§»
pnpm db:seed      # Seed database with initial data | å¡«å……åˆå§‹è³‡æ–™
pnpm db:studio    # Open Prisma Studio | é–‹å•Ÿ Prisma Studio

# OAuth Testing | OAuth æ¸¬è©¦
pnpm test:oauth-config  # Test Google OAuth configuration | æ¸¬è©¦ Google OAuth é…ç½®

# Environment Management | ç’°å¢ƒç®¡ç†
pnpm env:switch   # Switch between environments | åˆ‡æ›ç’°å¢ƒ
pnpm test:db      # Test database connection | æ¸¬è©¦è³‡æ–™åº«é€£æ¥

# Docker | Docker
docker build -t kcislk-esid-info-hub .  # Build Docker image | å»ºç½® Docker æ˜ åƒæª”
docker run -p 8080:8080 kcislk-esid-info-hub  # Run container | åŸ·è¡Œå®¹å™¨

# Git workflow (follow CLAUDE.md rules) | Git å·¥ä½œæµç¨‹ï¼ˆéµå¾ª CLAUDE.md è¦å‰‡ï¼‰
git add .                           # æš«å­˜æ‰€æœ‰è®Šæ›´
git commit -m "feat: description"   # æäº¤è®Šæ›´
git push origin main                # æ¨é€åˆ°ä¸»åˆ†æ”¯ï¼ˆè‡ªå‹• GitHub å‚™ä»½ï¼‰
```

## ğŸ” Google OAuth Setup | Google OAuth è¨­å®š

### ğŸš€ Quick Start (5 minutes) | å¿«é€Ÿé–‹å§‹ï¼ˆ5åˆ†é˜ï¼‰

1. **Follow the setup guide** | **æŒ‰ç…§è¨­å®šæŒ‡å—**
   ```bash
   # Read the quick start guide | é–±è®€å¿«é€Ÿé–‹å§‹æŒ‡å—
   open docs/QUICK-START-OAUTH.md
   ```

2. **Configure Google Console** | **é…ç½® Google Console**
   - Visit: https://console.developers.google.com/
   - Create OAuth 2.0 credentials
   - Add redirect URI: `http://localhost:3000/api/auth/callback/google`

3. **Set up environment variables** | **è¨­å®šç’°å¢ƒè®Šæ•¸**
   ```bash
   # Copy environment template | è¤‡è£½ç’°å¢ƒç¯„æœ¬
   cp .env.local.example .env.local
   
   # Edit with your Google OAuth credentials | ç·¨è¼¯å¡«å…¥æ‚¨çš„ Google OAuth æ†‘è­‰
   # GOOGLE_CLIENT_ID="your-client-id.apps.googleusercontent.com"
   # GOOGLE_CLIENT_SECRET="your-client-secret"
   ```

4. **Test OAuth configuration** | **æ¸¬è©¦ OAuth é…ç½®**
   ```bash
   # Validate OAuth setup | é©—è­‰ OAuth è¨­å®š
   npm run test:oauth-config
   
   # Start development server | å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
   npm run dev
   
   # Test OAuth flow | æ¸¬è©¦ OAuth æµç¨‹
   # Visit: http://localhost:3000/test-oauth
   ```

### ğŸ“š Documentation | æ–‡ä»¶
- ğŸ“‹ **Quick Start**: `docs/QUICK-START-OAUTH.md` - 5-minute setup guide
- ğŸ“– **Detailed Setup**: `docs/google-oauth-setup.md` - Complete configuration guide  
- ğŸ“Š **Status Summary**: `docs/OAUTH-STATUS-SUMMARY.md` - Implementation overview

### ğŸ¯ Features | åŠŸèƒ½
- âœ… Secure Google OAuth 2.0 authentication
- ğŸ¤– Automatic role assignment by email domain
- ğŸ”— Account linking for existing users
- ğŸ›¡ï¸ CSRF protection and secure token handling
- ğŸ“± Mobile-responsive login interface

## Project Structure

```
kcislk-esid-info-hub/
â”œâ”€â”€ CLAUDE.md                  # Essential rules for Claude Code
â”œâ”€â”€ README.md                  # This file
â”œâ”€â”€ Dockerfile                 # Docker configuration for deployment
â”œâ”€â”€ .dockerignore              # Docker ignore file
â”œâ”€â”€ app/                       # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx             # Root layout
â”‚   â”œâ”€â”€ page.tsx               # Home page
â”‚   â”œâ”€â”€ api/                   # API routes
â”‚   â”‚   â””â”€â”€ health/            # Health check endpoint
â”‚   â”œâ”€â”€ events/                # Events section
â”‚   â”œâ”€â”€ resources/             # Resources section
â”‚   â”œâ”€â”€ admin/                 # Admin section
â”‚   â””â”€â”€ teachers/              # Teachers section
â”œâ”€â”€ components/                # UI components
â”‚   â”œâ”€â”€ ui/                    # shadcn/ui components
â”‚   â””â”€â”€ theme-provider.tsx     # Theme configuration
â”œâ”€â”€ lib/                       # Utilities
â”‚   â””â”€â”€ prisma.ts              # Database connection
â”œâ”€â”€ hooks/                     # Custom React hooks
â”œâ”€â”€ prisma/                    # Database schema and migrations
â”‚   â”œâ”€â”€ schema.prisma          # Database schema
â”‚   â”œâ”€â”€ seed.ts                # Database seeding script
â”‚   â””â”€â”€ migrations/            # Database migrations
â”œâ”€â”€ scripts/                   # Development and deployment scripts
â”œâ”€â”€ public/                    # Static assets
â”œâ”€â”€ styles/                    # Global styles
â”œâ”€â”€ docs/                      # Documentation
â”œâ”€â”€ tools/                     # Development tools
â”œâ”€â”€ examples/                  # Usage examples
â”œâ”€â”€ output/                    # Generated files (not committed)
â”œâ”€â”€ logs/                      # Log files (not committed)
â””â”€â”€ tmp/                       # Temporary files (not committed)
```

## Pages Overview | é é¢æ¦‚è¿°

### ğŸ  Home Page (`/`) | é¦–é 
- Welcome message and hero section | æ­¡è¿è¨Šæ¯å’Œä¸»è¦–è¦ºå€åŸŸ
- KCISLK ESID focused information display | å°ˆæ³¨æ–¼ KCISLK å°å­¸åœ‹éš›è™•çš„è³‡è¨Šå±•ç¤º
- Elementary International Department news board | å°å­¸åœ‹éš›è™•è¨Šæ¯çœ‹æ¿
- Monthly newsletter section | æœˆåˆŠé›»å­å ±å€åŸŸ
- Quick statistics and updates | å¿«é€Ÿçµ±è¨ˆè³‡è¨Šå’Œæ›´æ–°
- Parent and teacher resources | å®¶é•·å’Œè€å¸«è³‡æº

### ğŸ“… Events Page (`/events`) | æ´»å‹•é é¢
- Coffee with the Principal materials | æ ¡é•·æœ‰ç´„ç›¸é—œè³‡æ–™
- Event presentation slides by grade level | å„å¹´ç´šæ´»å‹•ç°¡å ±æŠ•å½±ç‰‡
- Downloadable resources and materials | å¯ä¸‹è¼‰çš„è³‡æºå’Œæ•™æ

### ğŸ“š Resources Page (`/resources`) | è³‡æºé é¢
- Grade-level learning resources (Grades 1-2, 3-4, 5-6) | å„å¹´ç´šå­¸ç¿’è³‡æºï¼ˆ1-2å¹´ç´šã€3-4å¹´ç´šã€5-6å¹´ç´šï¼‰
- External learning platforms (ReadWorks, Google Drive) | å¤–éƒ¨å­¸ç¿’å¹³å°ï¼ˆReadWorksã€Google Driveï¼‰
- Interactive learning tools | äº’å‹•å­¸ç¿’å·¥å…·
- Downloadable materials | å¯ä¸‹è¼‰æ•™æ

## Key Features

### ğŸ¨ Design System
- Consistent gradient color schemes
- Smooth animations and transitions
- Mobile-responsive layouts
- Accessible UI components

### ğŸ“± User Experience
- Intuitive navigation
- Fast loading times
- Smooth page transitions
- Interactive elements

### ğŸ”§ Technical Features
- TypeScript for type safety
- Modern React patterns with hooks
- Optimized Next.js App Router
- Component-based architecture
- PostgreSQL database with Prisma ORM
- Docker containerization for deployment
- Health check endpoint for monitoring
- Multi-environment configuration support

## Contributing

Before contributing, please:

1. Read `CLAUDE.md` for essential development rules
2. Follow the pre-task compliance checklist
3. Search for existing implementations before creating new features
4. Commit after each completed task
5. Push to GitHub for backup

## Development Best Practices

### âŒ Wrong Approach (Creates Technical Debt)
```bash
# Creating new file without searching first
Write(file_path="new_feature.tsx", content="...")
```

### âœ… Correct Approach (Prevents Technical Debt)
```bash
# 1. SEARCH FIRST
Grep(pattern="feature.*implementation", glob="**/*.{ts,tsx}")
# 2. READ EXISTING FILES  
Read(file_path="existing_feature.tsx")
# 3. EXTEND EXISTING FUNCTIONALITY
Edit(file_path="existing_feature.tsx", old_string="...", new_string="...")
```

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Docker Deployment | Docker éƒ¨ç½²

### Quick Docker Setup | å¿«é€Ÿ Docker è¨­å®š

```bash
# Build Docker image | å»ºç½® Docker æ˜ åƒæª”
docker build -t kcislk-esid-info-hub .

# Run with environment variables | é‹è¡Œä¸¦è¨­å®šç’°å¢ƒè®Šæ•¸
docker run -p 8080:8080 \
  -e DATABASE_URL="your_database_url" \
  -e NODE_ENV="production" \
  kcislk-esid-info-hub

# Health check | å¥åº·æª¢æŸ¥
curl http://localhost:8080/api/health
```

### Docker Features | Docker åŠŸèƒ½
- âœ… Multi-stage build for optimized image size | å¤šéšæ®µå»ºç½®å„ªåŒ–æ˜ åƒæª”å¤§å°
- âœ… Non-root user for security | é root ä½¿ç”¨è€…æå‡å®‰å…¨æ€§
- âœ… Health check endpoint | å¥åº·æª¢æŸ¥ç«¯é»
- âœ… Optimized for Zeabur deployment | é‡å° Zeabur éƒ¨ç½²å„ªåŒ–

See `docs/docker-deployment.md` for detailed Docker setup instructions.  
è©³ç´°çš„ Docker è¨­å®šèªªæ˜è«‹åƒè€ƒ `docs/docker-deployment.md`ã€‚

## Support

For questions or issues:
- Check the documentation in `docs/`
- Review `CLAUDE.md` for development guidelines
- Check `docs/troubleshooting.md` for common issues
- Contact the development team

---

**ğŸ¯ Template by Chang Ho Chien | HC AI èªªäººè©±channel | v1.0.0**  
**ğŸ“º Tutorial: https://youtu.be/8Q1bRZaHH24**

*Excellence in International Education*